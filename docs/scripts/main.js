!function(){"use strict";var e=function(){return window.location.pathname.indexOf("/fr.")!==-1||window.location.pathname.indexOf("/fr/")!==-1?"fr":"en"}(),t=function(e,t,a){var n;return function(){var i=this,o=arguments,r=function(){n=null,a||e.apply(i,o)},l=a&&!n;clearTimeout(n),n=setTimeout(r,t),l&&e.apply(i,o)}},a=function(){function e(e){a.click(function(e){t.addClass("no-scroll")}),n.click(function(e){t.removeClass("no-scroll")}),i.click(function(e){o.focus()}),r.click(function(e){var t=$(e.currentTarget);t.hasClass("active")?t.removeClass("active"):t.addClass("active")})}var t=$("body"),a=$(".menu-icon"),n=$(".close-button-circle"),i=$(".show-for-large"),o=$("#site-search-q"),r=$(".has-subnav");return{init:e}}(),n=function(){function e(){a(),$(".more-section-menuitem").on("click",t(n,500,!0)),$(".more-section-menu-mobile-title").on("click",u),$(".close-button").on("click",s),$(".js-open-socialdrawer").on("click",c)}function a(){$(window).resize(function(){$(window).width()<=375?($(".tertiary-cta-more").removeClass("animate"),"flex"===$(".more-section-menu").css("display")&&$(".more-section-menu").css("display","block")):"block"===$(".more-section-menu").css("display")&&$(".more-section-menu").css("display","flex")})}function n(e){if(window.matchMedia("(min-width: 640px)").matches){try{e.returnValue=!1}catch(t){console.warn("event.returnValue not available")}e.preventDefault()}var a=$(this),n=a.offset(),s=a.width(),u=n.left+s/2-50,c=a.attr("class").match(/[\w-]*category[\w-]*/g),d=a.text();i(c),o(d),r(u),l()}function i(e){$(".more-section-menu-dropdown-category-wrapper").hide(),$("."+e[0]).fadeIn("slow").focus(),$(".more-section-menu-dropdown").addClass("active")}function o(e){$("p.more-section-tagline-tag").fadeOut(),$("h1.more-section-tagline-tag").removeClass("active"),setTimeout(function(){$("h1.more-section-tagline-tag").addClass("active").text(e)},200)}function r(e){$(".more-section-menu-dropdown-arrow-up").show().css({left:e})}function l(){$(".tertiary-cta-more").removeClass("animate"),setTimeout(function(){$(".tertiary-cta-more").addClass("animate")},100)}function s(){$(".more-section-menu-dropdown-category-wrapper").hide(),$(".more-section-menu-dropdown-arrow-up").hide(),$(".tertiary-cta-more").removeClass("animate"),$("h1.more-section-tagline-tag").removeClass("active"),$("p.more-section-tagline-tag").fadeIn("slow"),$(".more-section-menu-dropdown").removeClass("active")}function u(){$(".more-section-menu").toggleClass("active"),$(this).toggleClass("active")}function c(){var e=$(this).next();e.hasClass("js-socialdrawer-opened")?e.removeClass("js-socialdrawer-opened"):e.addClass("js-socialdrawer-opened")}return{init:e}}(),i=function(){function t(){d=$(".ig-form"),c=d.find("form"),s=d.find("form").data("endpoint"),u=d.find("form").data("cancel"),a(),r(),l()}function a(){var e=$(":input, textarea");e.change(function(e){$(this).addClass("dirty")}),$.validator.setDefaults({debug:!0,success:"valid"}),$.validator.addMethod("cdnPostal",function(e,t){return this.optional(t)||e.match(/[a-zA-Z][0-9][a-zA-Z](-| |)[0-9][a-zA-Z][0-9]/)},"Please specify a valid postal code."),c.validate({submitHandler:function(){n()},errorPlacement:function(e,t){$(t).closest(".row").find(".custom-error-location").length?$(t).closest(".row").find(".custom-error-location").append(e):$(t).parent().append(e)},rules:{phone:{required:!0,phoneUS:!0},phone2:{required:!0,phoneUS:!0},postal_code:{required:!0,cdnPostal:!0},firstname:{required:!0,maxlength:100},lastname:{required:!0,maxlength:100},email:{required:!0,maxlength:100},email2:{required:!0,maxlength:100}}}),c.find("button.cancel").on("click",function(){window.location.replace(u)})}function n(e){var t,a;return c.valid()&&(c.removeClass("server-error"),d.addClass("submitting"),t=c.serializeArray(),a=i(t),o(a)),!1}function i(e){return e}function o(e){$.ajax({method:"POST",url:s,data:e}).success(function(e){d.addClass("success"),d.removeClass("submitting")}).error(function(e){c.addClass("server-error"),d.removeClass("submitting"),ScrollMan.to($("#server-error"))})}function r(){$(".toggler").on("click",function(){$(".toggle-content").hide(),$("."+$(this).data("content")).show()})}function l(){"fr"===e&&$.extend($.validator.messages,{required:"Ce champ est obligatoire.",remote:"Veuillez corriger ce champ.",email:"Veuillez fournir une adresse électronique valide.",url:"Veuillez fournir une adresse URL valide.",date:"Veuillez fournir une date valide.",dateISO:"Veuillez fournir une date valide (ISO).",number:"Veuillez fournir un numéro valide.",digits:"Veuillez fournir seulement des chiffres.",creditcard:"Veuillez fournir un numéro de carte de crédit valide.",equalTo:"Veuillez fournir encore la même valeur.",extension:"Veuillez fournir une valeur avec une extension valide.",maxlength:$.validator.format("Veuillez fournir au plus {0} caractères."),minlength:$.validator.format("Veuillez fournir au moins {0} caractères."),rangelength:$.validator.format("Veuillez fournir une valeur qui contient entre {0} et {1} caractères."),range:$.validator.format("Veuillez fournir une valeur entre {0} et {1}."),max:$.validator.format("Veuillez fournir une valeur inférieure ou égale à {0}."),min:$.validator.format("Veuillez fournir une valeur supérieure ou égale à {0}."),step:$.validator.format("Veuillez fournir une valeur multiple de {0}."),maxWords:$.validator.format("Veuillez fournir au plus {0} mots."),minWords:$.validator.format("Veuillez fournir au moins {0} mots."),rangeWords:$.validator.format("Veuillez fournir entre {0} et {1} mots."),letterswithbasicpunc:"Veuillez fournir seulement des lettres et des signes de ponctuation.",alphanumeric:"Veuillez fournir seulement des lettres, nombres, espaces et soulignages.",lettersonly:"Veuillez fournir seulement des lettres.",nowhitespace:"Veuillez ne pas inscrire d'espaces blancs.",ziprange:"Veuillez fournir un code postal entre 902xx-xxxx et 905-xx-xxxx.",integer:"Veuillez fournir un nombre non décimal qui est positif ou négatif.",vinUS:"Veuillez fournir un numéro d'identification du véhicule (VIN).",dateITA:"Veuillez fournir une date valide.",time:"Veuillez fournir une heure valide entre 00:00 et 23:59.",phoneUS:"Veuillez fournir un numéro de téléphone valide.",phoneUK:"Veuillez fournir un numéro de téléphone valide.",mobileUK:"Veuillez fournir un numéro de téléphone mobile valide.",strippedminlength:$.validator.format("Veuillez fournir au moins {0} caractères."),email2:"Veuillez fournir une adresse électronique valide.",url2:"Veuillez fournir une adresse URL valide.",creditcardtypes:"Veuillez fournir un numéro de carte de crédit valide.",ipv4:"Veuillez fournir une adresse IP v4 valide.",ipv6:"Veuillez fournir une adresse IP v6 valide.",require_from_group:"Veuillez fournir au moins {0} de ces champs.",nifES:"Veuillez fournir un numéro NIF valide.",nieES:"Veuillez fournir un numéro NIE valide.",cifES:"Veuillez fournir un numéro CIF valide.",postalCodeCA:"Veuillez fournir un code postal valide."})}var s,u,c,d;return{init:t}}(),o=function(){function e(){console.log("Carousel Initialized!"),t()}function t(){var e,t,a;$(".ig-carousel").each(function(n){a=$(this),e=a.data("prevArrowText")?'<button type="button" class="slick-prev"><span class="show-for-sr">'+a.data("prevArrowText")+"</span></button>":'<button type="button" class="slick-prev"><span class="show-for-sr">Previous</span></button>',t=a.data("nextArrowText")?'<button type="button" class="slick-next"><span class="show-for-sr">'+a.data("nextArrowText")+"</span></button>":'<button type="button" class="slick-next"><span class="show-for-sr">Next</span></button>',a.slick({adaptiveHeight:a.data("adaptiveHeight")||!1,arrows:a.data("arrows")||!1,autoPlay:a.data("autoPlay")||!1,dots:a.data("dots")||!1,fade:a.data("fade")||!1,infinite:a.data("infinite")||!1,mobileFirst:!0,nextArrow:t,prevArrow:e,responsive:a.data("responsive")||"",slide:a.data("slide")||"",slidesToScroll:a.data("slideToScroll")||1,slidesToShow:a.data("slidesToShow")||1,speed:a.data("speed")||300})})}return{init:e}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(){f=t(),c=$(".ig-shuffled-carousel").data("articles").articles,p=$(".ig-shuffled-carousel").data("name"),m=$(".ig-shuffled-carousel").data("limit"),d=f[p]?f[p]:{},s(o())}function t(){return"undefined"!=typeof Storage?localStorage.getItem("ig")?JSON.parse(localStorage.getItem("ig")):a():void console.warn("localstorage is not available!")}function a(){return localStorage.setItem("ig",JSON.stringify({})),JSON.parse(localStorage.getItem("ig"))}function n(e){var t=r({},d);e.forEach(function(e,a){a<=1&&Object.keys(e).map(function(a){t[a]=e[a]})}),f[p]=t,localStorage.setItem("ig",JSON.stringify(f))}function i(){delete f[p],localStorage.setItem("ig",JSON.stringify(f))}function o(){var t,a=[];return Object.keys(c).forEach(function(e,t){var n={};n[e]=c[e],d[e]||a.push(n)}),t=a.splice(0,m),t.length<m?(d={},i(),e()):l(t)}function l(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[a],e[a]=t;return e}function s(e){var t,a=[];e&&(e.forEach(function(e){Object.keys(e).map(function(t){a.push(e[t])})}),t=Mustache.to_html($("#"+p).html(),{articles:a}),$(".ig-shuffled-carousel").html(t),n(e),u())}function u(){var e,t,a;$(".ig-carousel").not(".slick-initialized").each(function(n){a=$(this),e=a.data("prevArrowText")?'<button type="button" class="slick-prev"><span class="show-for-sr">'+a.data("prevArrowText")+"</span></button>":'<button type="button" class="slick-prev"><span class="show-for-sr">Previous</span></button>',t=a.data("nextArrowText")?'<button type="button" class="slick-next"><span class="show-for-sr">'+a.data("nextArrowText")+"</span></button>":'<button type="button" class="slick-next"><span class="show-for-sr">Next</span></button>',a.slick({adaptiveHeight:a.data("adaptiveHeight")||!1,arrows:a.data("arrows")||!1,autoPlay:a.data("autoPlay")||!1,dots:a.data("dots")||!1,fade:a.data("fade")||!1,infinite:a.data("infinite")||!1,mobileFirst:!0,nextArrow:t,prevArrow:e,responsive:a.data("responsive")||"",slide:a.data("slide")||"",slidesToScroll:a.data("slideToScroll")||1,slidesToShow:a.data("slidesToShow")||1,speed:a.data("speed")||300})})}var c,d,f,p,m;return{init:e}}(),s=function(){function e(){t.click(function(e){try{e.returnValue=!1}catch(t){console.warn("event.returnValue not available")}e.preventDefault()})}var t=$(".accordion-menu-section-title");return{init:e}}(),u=function(){function t(){a(),u=setInterval(function(){$(".vjs-plugins-ready").length&&(o(),clearInterval(u))},500),s()}function a(){var e,t,a={},o=["auto","metadata","none"];$(".ig-video-group").each(function(){e=$(this),a.account=e.data("account"),a.player=e.data("player"),n(a),e.find(".ig-video-js").each(function(e){t=$(this),a.id=t.data("id"),a.overlay=t.data("overlay")?t.data("overlay"):"",a.title=t.data("title")?t.data("title"):"",a.description=t.data("description")?t.data("description"):"",a.auto=t.data("autoplay")?"autoplay":"",a.ctrl=t.data("controls")?"controls":"",a.preload=o.indexOf(t.data("preload"))>-1?t.data("preload"):"auto",a.transcript=t.data("transcript")?t.data("transcript"):"",a.ctaTemplate=t.data("ctaTemplate")?t.data("ctaTemplate"):"",c.push(a.id),i(t,a,e)})})}function n(e){var t='<script src="//players.brightcove.net/'+e.account+"/"+e.player+'_default/index.min.js"></script>';$("body").append(t)}function i(t,a,n){var i={en:"Transcript",fr:"Transcription"},o='<div class="video-container '+a.id+'"><div class="video-container-responsive">';a.ctaTemplate.length>0&&(o+='<span class="video-cta">'+a.ctaTemplate+"</span>"),a.overlay.length>0&&(o+='<span class="video-overlay" style="background-image: url(\'../'+a.overlay+"');\"></span>"),o+='<video data-setup=\'{"techOrder": ["html5"]}\' data-video-id="'+a.id+'" preload="'+a.preload+'" data-account="'+a.account+'" data-player="'+a.player+'" data-embed="default" data-application-id="'+n+'" class="video-js" id="'+a.id+'" '+a.ctrl+" "+a.auto+"></video></div>",a.transcript.length>0&&(o+='<div class="video-transcript"><a target="_blank" href="'+a.transcript+'">'+i[e]+"</a></div>"),o+='</div><h2 class="video-title">'+a.title+'</h2><p class="video-description">'+a.description+"</p>",t=t.replaceWith(o),a.overlay&&$(document).on("click","#"+a.id,function(){$(this).siblings(".video-overlay").hide()})}function o(){var e;c.forEach(function(t){videojs("#"+t).ready(function(){e=this,e.on("play",r),e.on("ended",l),d.push(e)})})}function r(e){var t=e.target.id;d.forEach(function(e){e.id()!==t&&videojs(e.id()).pause()})}function l(e){$("."+e.target.id).addClass("complete")}function s(){$(window).scroll(function(){d.forEach(function(e){$("#"+e.id()).visible()||videojs(e.id()).pause()})})}var u,c=[],d=[];return{init:t}}(),c=function(){function t(){$(document).foundation(),$("#main-navigation").length&&a.init(),$(".ig-form").length&&i.init(),$(".more-section").length&&n.init(),$(".ig-carousel").length&&o.init(),$(".ig-shuffled-carousel").length&&l.init(),$(".ig-video-group").length&&u.init(),$(".accordion").length&&s.init(),r()}function r(){$("body").addClass(e)}return{init:t}}();$(document).ready(function(){c.init()})}();