!function(){"use strict";var e=function(){return window.location.pathname.indexOf("/fr/")!==-1?"fr":"en"}(),t=function(){return window.outerWidth}(),n=new EventEmitter,o=function(){function e(){n(),$(".more-section-menuitem").on("click",event,o),$(".more-section-menu-mobile-title").on("click",l),$(".close-button").on("click",c),$(".js-open-socialdrawer").on("click",d)}function n(){$(window).resize(function(){t<640?($(".tertiary-cta-more").removeClass("animate"),"flex"===$(".more-section-menu").css("display")&&$(".more-section-menu").css("display","block")):"block"===$(".more-section-menu").css("display")&&$(".more-section-menu").css("display","flex")})}function o(){event.preventDefault();var e=$(this),t=e.offset(),n=e.width(),o=t.left+n/2-50,c=e.attr("class").match(/[\w-]*category[\w-]*/g),l=e.text();a(c),i(l),s(o),r()}function a(e){$(".more-section-menu-dropdown-category-wrapper").fadeIn("slow").focus().filter(":not(."+e+")").hide(),$(".more-section-menu-dropdown").addClass("active")}function i(e){$("p.more-section-tagline-tag").fadeOut(),$("h1.more-section-tagline-tag").removeClass("active"),setTimeout(function(){$("h1.more-section-tagline-tag").addClass("active").text(e)},200)}function s(e){$(".more-section-menu-dropdown-arrow-up").show().css({left:e})}function r(){$(".tertiary-cta-more").removeClass("animate"),setTimeout(function(){$(".tertiary-cta-more").addClass("animate")},100)}function c(){$(".more-section-menu-dropdown-category-wrapper").hide(),$(".more-section-menu-dropdown-arrow-up").hide(),$(".tertiary-cta-more").removeClass("animate"),$("h1.more-section-tagline-tag").removeClass("active"),$("p.more-section-tagline-tag").fadeIn("slow"),$(".more-section-menu-dropdown").removeClass("active")}function l(){$(".more-section-menu").toggleClass("active"),$(this).toggleClass("active")}function d(){var e=$(this).next();e.hasClass("js-socialdrawer-opened")?e.removeClass("js-socialdrawer-opened"):e.addClass("js-socialdrawer-opened")}return{init:e}}(),a=function(){function e(){l=$(".ig-form"),c=l.find("form"),s=l.find("form").data("endpoint"),r=l.find("form").data("cancel"),t(),i()}function t(){var e=$(":input, textarea");e.change(function(e){$(this).addClass("dirty")}),$.validator.setDefaults({debug:!0,success:"valid"}),$.validator.addMethod("cdnPostal",function(e,t){return this.optional(t)||e.match(/[a-zA-Z][0-9][a-zA-Z](-| |)[0-9][a-zA-Z][0-9]/)},"Please specify a valid postal code."),c.validate({submitHandler:function(){n()},errorPlacement:function(e,t){$(t).closest(".row").find(".custom-error-location").length?$(t).closest(".row").find(".custom-error-location").append(e):$(t).parent().append(e)},rules:{phone:{required:!0,phoneUS:!0},phone2:{required:!0,phoneUS:!0},postal_code:{required:!0,cdnPostal:!0},firstname:{required:!0,maxlength:100},lastname:{required:!0,maxlength:100},email:{required:!0,maxlength:100},email2:{required:!0,maxlength:100}}}),c.find("button.cancel").on("click",function(){window.location.replace(r)})}function n(e){var t,n;return c.valid()&&(c.removeClass("server-error"),l.addClass("submitting"),t=c.serializeArray(),n=o(t),a(n)),!1}function o(e){return e}function a(e){$.ajax({method:"POST",url:s,data:e}).success(function(e){l.addClass("success"),l.removeClass("submitting")}).error(function(e){c.addClass("server-error"),l.removeClass("submitting"),ScrollMan.to($("#server-error"))})}function i(){$(".toggler").on("click",function(){$(".toggle-content").hide(),$("."+$(this).data("content")).show()})}var s,r,c,l;return{init:e}}(),i=function(){function e(){console.log("Carousel Initialized!"),$("[data-responsive-toggle] button").on("click",function(){$("body").toggleClass("site-header-is-active")}),t()}function t(){var e,t,n;$(".ig-carousel").each(function(o){n=$(this),e=n.data("prevArrowText")?'<button type="button" class="slick-prev"><span class="show-for-sr">'+n.data("prevArrowText")+"</span></button>":'<button type="button" class="slick-prev"><span class="show-for-sr">Previous</span></button>',t=n.data("nextArrowText")?'<button type="button" class="slick-next"><span class="show-for-sr">'+n.data("nextArrowText")+"</span></button>":'<button type="button" class="slick-next"><span class="show-for-sr">Next</span></button>',n.slick({adaptiveHeight:n.data("adaptiveHeight")||!1,arrows:n.data("arrows")||!1,autoPlay:n.data("autoPlay")||!1,dots:n.data("dots")||!1,fade:n.data("fade")||!1,infinite:n.data("infinite")||!1,mobileFirst:!0,nextArrow:t,prevArrow:e,responsive:n.data("responsive")||"",slide:n.data("slide")||"",slidesToScroll:n.data("slideToScroll")||1,slidesToShow:n.data("slidesToShow")||1,speed:n.data("speed")||300})})}return{init:e}}(),s=function(){function e(e){var n=$(e);o=["Hello!","Is it me you're looking for?","I can see it in your eyes","I can see it in your smile","You're all I've ever wanted","And my arms are open wide","'cause you know just what to say","And you know just what to do","And I want to tell you so much"],n.find("a.button.message").on("click",event,t)}function t(){n.emit("hello",o[a]),a+=1}var o=[],a=0;return{init:e}}(),r=function(){function e(e){o=$(e),t()}function t(){n.on("hello",function(e){$('<p class="alert-box alert">'+e+"</p>").hide().appendTo(o).fadeIn("fast")})}var o;return{init:e}}(),c=function(){function t(){$(document).foundation(),$(".ig-form").length&&a.init(),$(".more-section").length&&o.init(),$(".ig-carousel").length&&i.init(),$(".ig-evt1").length&&s.init(".ig-evt1"),$(".ig-evt2").length&&r.init(".ig-evt2"),n()}function n(){$("body").addClass(e)}return{init:t}}();$(document).ready(function(){c.init()})}();