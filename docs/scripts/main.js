!function(){"use strict";var t=function(){return window.location.pathname.indexOf("/fr/")!==-1?"fr":"en"}(),e=function(){return window.outerWidth}(),n=new EventEmitter,o=function(){function t(){n(),$(".more-section-menuitem").on("click",event,o),$(".more-section-menu-mobile-title").on("click",d),$(".close-button").on("click",c),$(".js-open-socialdrawer").on("click",l)}function n(){$(window).resize(function(){e<640?($(".tertiary-cta-more").removeClass("animate"),"flex"===$(".more-section-menu").css("display")&&$(".more-section-menu").css("display","block")):"block"===$(".more-section-menu").css("display")&&$(".more-section-menu").css("display","flex")})}function o(){event.preventDefault();var t=$(this),e=t.offset(),n=t.width(),o=e.left+n/2-50,c=t.attr("class").match(/[\w-]*category[\w-]*/g),d=t.text();a(c),i(d),r(o),s()}function a(t){$(".more-section-menu-dropdown-category-wrapper").fadeIn("slow").focus().filter(":not(."+t+")").hide(),$(".more-section-menu-dropdown").addClass("active")}function i(t){$("p.more-section-tagline-tag").fadeOut(),$("h1.more-section-tagline-tag").removeClass("active"),setTimeout(function(){$("h1.more-section-tagline-tag").addClass("active").text(t)},200)}function r(t){$(".more-section-menu-dropdown-arrow-up").show().css({left:t})}function s(){$(".tertiary-cta-more").removeClass("animate"),setTimeout(function(){$(".tertiary-cta-more").addClass("animate")},100)}function c(){$(".more-section-menu-dropdown-category-wrapper").hide(),$(".more-section-menu-dropdown-arrow-up").hide(),$(".tertiary-cta-more").removeClass("animate"),$("h1.more-section-tagline-tag").removeClass("active"),$("p.more-section-tagline-tag").fadeIn("slow"),$(".more-section-menu-dropdown").removeClass("active")}function d(){$(".more-section-menu").toggleClass("active"),$(this).toggleClass("active")}function l(){var t=$(this).next();t.hasClass("js-socialdrawer-opened")?t.removeClass("js-socialdrawer-opened"):t.addClass("js-socialdrawer-opened")}return{init:t}}(),a=function(){function t(){d=$(".ig-form"),c=d.find("form"),r=d.find("form").data("endpoint"),s=d.find("form").data("cancel"),e(),i()}function e(){var t=$(":input, textarea");t.change(function(t){$(this).addClass("dirty")}),$.validator.setDefaults({debug:!0,success:"valid"}),$.validator.addMethod("cdnPostal",function(t,e){return this.optional(e)||t.match(/[a-zA-Z][0-9][a-zA-Z](-| |)[0-9][a-zA-Z][0-9]/)},"Please specify a valid postal code."),c.validate({submitHandler:function(){n()},errorPlacement:function(t,e){$(e).closest(".row").find(".custom-error-location").length?$(e).closest(".row").find(".custom-error-location").append(t):$(e).parent().append(t)},rules:{phone:{required:!0,phoneUS:!0},phone2:{required:!0,phoneUS:!0},postal_code:{required:!0,cdnPostal:!0},firstname:{required:!0,maxlength:100},lastname:{required:!0,maxlength:100},email:{required:!0,maxlength:100},email2:{required:!0,maxlength:100}}}),c.find("button.cancel").on("click",function(){window.location.replace(s)})}function n(t){var e,n;return c.valid()&&(c.removeClass("server-error"),d.addClass("submitting"),e=c.serializeArray(),n=o(e),a(n)),!1}function o(t){return t}function a(t){$.ajax({method:"POST",url:r,data:t}).success(function(t){d.addClass("success"),d.removeClass("submitting")}).error(function(t){c.addClass("server-error"),d.removeClass("submitting"),ScrollMan.to($("#server-error"))})}function i(){$(".toggler").on("click",function(){$(".toggle-content").hide(),$("."+$(this).data("content")).show()})}var r,s,c,d;return{init:t}}(),i=function(){function t(){console.log("Carousel Initialized!"),$("[data-responsive-toggle] button").on("click",function(){$("body").toggleClass("site-header-is-active")}),e()}function e(){var t,e,n;$(".ig-carousel").each(function(o){n=$(this),t=n.data("prevArrowText")?'<button type="button" class="slick-prev"><span class="show-for-sr">'+n.data("prevArrowText")+"</span></button>":'<button type="button" class="slick-prev"><span class="show-for-sr">Previous</span></button>',e=n.data("nextArrowText")?'<button type="button" class="slick-next"><span class="show-for-sr">'+n.data("nextArrowText")+"</span></button>":'<button type="button" class="slick-next"><span class="show-for-sr">Next</span></button>',n.slick({adaptiveHeight:n.data("adaptiveHeight")||!1,arrows:n.data("arrows")||!1,autoPlay:n.data("autoPlay")||!1,dots:n.data("dots")||!1,fade:n.data("fade")||!1,infinite:n.data("infinite")||!1,mobileFirst:!0,nextArrow:e,prevArrow:t,responsive:n.data("responsive")||"",slide:n.data("slide")||"",slidesToScroll:n.data("slideToScroll")||1,slidesToShow:n.data("slidesToShow")||1,speed:n.data("speed")||300})})}return{init:t}}(),r=function(){function t(){e()}function e(){var t,e,i={},r=["auto","metadata","none"];$(".ig-video-group").each(function(){t=$(this),i.account=t.data("account"),i.player=t.data("player"),n(i),t.find(".ig-video-js").each(function(t){e=$(this),i.id=e.data("id"),i.title=e.data("title")?e.data("title"):"",i.description=e.data("description")?e.data("description"):"",i.auto=e.data("autoplay")?"autoplay":"",i.ctrl=e.data("controls")?"controls":"",i.preload=r.indexOf(e.data("preload"))>-1?e.data("preload"):"auto",a.push(i.id),o(e,i,t)})})}function n(t){var e='<script src="//players.brightcove.net/'+t.account+"/"+t.player+'_default/index.min.js"></script>';$("body").append(e)}function o(t,e,n){var o='<div class="video-container"><span class="video-overlay '+e.id+'"></span><div class="video-container-responsive"><video data-video-id="'+e.id+'" preload="'+e.preload+'" data-account="'+e.account+'" data-player="'+e.player+'" data-embed="default" data-application-id="'+n+'" class="video-js" id="'+e.id+'" '+e.ctrl+" "+e.auto+'></video></div></div><h2 class="video-title">'+e.title+'</h2><p class="video-description">'+e.description+"</p>";t.replaceWith(o)}var a=[];return{init:t}}(),s=function(){function t(t){var n=$(t);o=["Hello!","Is it me you're looking for?","I can see it in your eyes","I can see it in your smile","You're all I've ever wanted","And my arms are open wide","'cause you know just what to say","And you know just what to do","And I want to tell you so much"],n.find("a.button.message").on("click",event,e)}function e(){n.emit("hello",o[a]),a+=1}var o=[],a=0;return{init:t}}(),c=function(){function t(t){o=$(t),e()}function e(){n.on("hello",function(t){$('<p class="alert-box alert">'+t+"</p>").hide().appendTo(o).fadeIn("fast")})}var o;return{init:t}}(),d=function(){function e(){$(document).foundation(),$(".ig-form").length&&a.init(),$(".more-section").length&&o.init(),$(".ig-carousel").length&&i.init(),$(".ig-video-group").length&&r.init(),$(".ig-evt1").length&&s.init(".ig-evt1"),$(".ig-evt2").length&&c.init(".ig-evt2"),n()}function n(){$("body").addClass(t)}return{init:e}}();$(document).ready(function(){d.init()})}();